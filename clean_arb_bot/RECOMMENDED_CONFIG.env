# Recommended Configuration for Profitable Arbitrage Trading
# CREATED: 2025-10-08
# STATUS: Optimized based on full audit findings

# ========================================
# TRADING MODE - START WITH PAPER TRADING
# ========================================
ENABLE_REAL_TRADING=false      # Set to true ONLY after paper trading success
PAPER_TRADING=true              # Test for 24-48 hours first

# ========================================
# WALLET CONFIGURATION
# ========================================
# Wallet: <YOUR_WALLET_ADDRESS_HERE>
WALLET_PRIVATE_KEY=<REMOVED_FOR_SECURITY_NEVER_COMMIT_PRIVATE_KEYS>

# ========================================
# DATA SOURCES
# ========================================
SHREDSTREAM_SERVICE_URL=http://localhost:8080
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
JITO_ENDPOINT=https://mainnet.block-engine.jito.wtf

# ========================================
# POSITION SIZING
# ========================================
CAPITAL_SOL=0.9                              # 0.9 SOL tradable (0.1 reserved for fees)
MAX_POSITION_SIZE_SOL=0.9                    # Keep at 0.9 as requested (limited wallet funding)
MIN_POSITION_SIZE_SOL=0.1                    # Minimum meaningful trade size

# ========================================
# PROFITABILITY PARAMETERS (CRITICAL CHANGES)
# ========================================
# The margin multiplier is ABOVE all fees (not total spread)
# 1.02 = 2% net profit after covering all costs
# With 0.9 SOL position and ~0.01 SOL fees, need ~1.2% total spread
MIN_PROFIT_MARGIN_MULTIPLIER=1.02            # 2% margin above fees as requested

# This is a sanity check, not the profitability threshold
# Real minimum spread will be calculated dynamically based on fees
MIN_SPREAD_PERCENTAGE=0.5                    # Ignore noise below 0.5% spread

# ========================================
# VOLUME FILTER (TO BE FIXED AND RE-ENABLED)
# ========================================
# Currently disabled due to decimal issues (1000x error on USDC volumes)
# When fixed, use these settings:
MIN_VOLUME_24H_SOL=10.0                      # 10 SOL minimum daily volume
MIN_SWAP_COUNT_24H=10                        # At least 10 swaps per day

# ========================================
# SAFETY LIMITS
# ========================================
MAX_DAILY_TRADES=50                          # Conservative daily limit
MAX_CONSECUTIVE_FAILURES=3                   # Stop after 3 failures
DAILY_LOSS_LIMIT_SOL=0.1                     # 10% of capital max loss
CIRCUIT_BREAKER_ENABLED=true                 # Emergency stop enabled

# ========================================
# EXECUTION PARAMETERS
# ========================================
MAX_SLIPPAGE_BPS=100                         # 1% max slippage
COMPUTE_UNIT_PRICE=1000                      # Micro-lamports per compute unit
COMPUTE_UNIT_LIMIT=200000                    # Max compute units

# ========================================
# JITO CONFIGURATION
# ========================================
USE_JITO_BUNDLES=true                        # MEV protection enabled
# Dynamic tipping is already implemented:
# - Uses 99th percentile as base (beats 99% of bundles)
# - Scales up to 17% of profit for high-margin trades
# - Updates every 30 minutes from JITO API

# ========================================
# MONITORING & LOGGING
# ========================================
LOG_LEVEL=info
ENABLE_METRICS=true
ENABLE_TRADE_LOGGING=true

# ========================================
# REALISTIC EXPECTATIONS WITH THIS CONFIG
# ========================================
# Triangle arbitrage (3 swaps) costs:
# - DEX fees: 0.9 SOL × 0.75% = 0.00675 SOL
# - JITO tip: ~0.002 SOL (99th percentile)
# - Gas fees: ~0.00015 SOL
# - Total costs: ~0.009 SOL
#
# With 2% margin above fees:
# - Required net profit: 0.009 × 1.02 = 0.00918 SOL
# - Total gross needed: 0.009 + 0.00918 = 0.01818 SOL
# - Required spread: 0.01818 / 0.9 = 2.02%
#
# This means you need ~2% spread opportunities to be profitable
# These exist but are less common than sub-1% spreads
#
# Daily expectations:
# - Opportunities: 5-20 per day with 2% spreads
# - Success rate: 60-70% (some will fail due to competition)
# - Profit per trade: ~0.009 SOL (after all fees)
# - Daily profit: 0.027-0.09 SOL (3-10% return on 0.9 SOL)
#
# CRITICAL: Test in paper mode first to validate these assumptions!